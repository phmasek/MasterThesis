\iffalse \bibliography{include/backmatter/magnus,include/backmatter/philip} \fi
\chapter{Discussion} \label{section:discussion}

To fully comprehend the impact of utilising Docker for the deployment strategy of a self-driving vehicle the data analysis have provided data looking at many aspects of the environment in which the real-time system may be run. Simply understanding how an application performs while running inside a Docker container in comparison with running the same application natively on a system is not enough to provide a comprehensive understanding of whether or not Docker is suitable for a real-time system environment. Such an environment is comprised by more factors than the deployment context exclusively, factors such as choosing the correct kernel or mitigating unnecessary system load. The result has provided in depth understanding of how a real-time system behaves depending on whether there is load on the system or if the system is utilising a real-time enabled kernel. All null hypotheses for both research questions are rejected suggesting that there exists an cause effect relationship on applications performance with switching deployment contexts or kernels. However the data analysis show that although having significant impact, the effect sizes of each of the treatment groups were minimal in regards to Cohen's D. The results presented in all (M)ANOVA tables presents an $\eta^{2}$ value far below the threshold for a small effect size which brings further interesting information about the relationships.\\

Research question 1 asks whether the execution environment has an impact on the scheduling precision of a real-time application or not. The results suggests that the scheduling precision is impacted by the execution environment, however this impact is related to the chosen kernel for the execution environment and not the deployment context chosen. This is strengthened when analysing the differences in F-value, Pillai's trace value and $\eta^{2}$ provided in table \ref{tbl:manova-pi}. As seen, the values differ between deployment context and kernel which indicates that there is a smaller impact made by switching between running the application in Docker and natively in comparison with choosing the correct kernel for the execution environment. The charts presented in section \ref{section:analysis-picomponent-desc} further discusses the importance choosing the correct kernel for the real-time application. This is seen in figure \ref{fig:pi-mean-chart-load} where the two execution environments utilising a vanilla kernel has an average deadline violation of approximately $10\%$ while comparing the Docker environments with the native environments show nearly no difference in scheduling precision.\\

Research question 2 aims to answer if there is an impact on input/output performance switching between execution environments. The results reveal that there is an impact however that impact is insignificant in relation to Cohen's D. Each of the $\eta^{2}$ values are far below than the threshold of having a small effect on the dependent variables. An observation can be made on the $\eta^{2}$ for the impact kernel has on camera performance, which indicates that there exists a larger effect on camera performance switching between kernels in comparison with the other treatment variables. One interesting point can be made on the camera performance during load, which seems to perform better when there is load on the target system. Lastly, it is worth noting that the input and output performance is indicated to be negatively impacted by utilising the RT kernel, this could be the case where the preemptive scheduler works against the components used as the scheduler may preempt the system processes used for capturing the image and saving the data.\\

In relation to related work, the results of this study confirm that Docker carries near-native performance. However, it is important to use a real-time enabled kernel to meet the timing requirements and for Docker to achieve neglible overhead. This too confirms current literature, and enriches the current state of knowledge which requires further insight utilising a RT kernel for Docker. \\

Comparing the experiments conducted in a controlled environment with those extracted from the use case of the self-driving truck, it is evident that the load in the controlled environment is far more exhaustive than that of the realistic load. This is seen in the size of the $Std.dev.$ between the different execution environments. The total $Std.dev.$ presented by the simulated system load in the controlled environment had a maximum value of $\sim7000000ns$ whereas the realistic load had a maximum total $Std.dev.$ value of $\sim65000ns$ which is approximately $0.9\%$ of the controlled environment's value. While the figure and $\eta^{2}$ indicated that deployment context has an impact on the dependent variables for the use case of the self driving truck, this does not necessarily imply that Docker is not suitable as a deployment strategy for the use-case. It could simply indicate that Docker scales less efficiently when introducing load to the system where both execution environments may reach an equilibrium eventually when increasing the load. This equilibrium may be observed in figure \ref{fig:pi-std-chart-load} where both deployment contexts share roughly the same total standard deviation.\\

Lastly, during the project there was a process of porting the existing truck system from a native execution environment into a Dockerized execution environment. This experience was found to be far more simple than expected. The total time for transferring all software components into Dockerized containers was roughly 40 work hours, which argues for the minimal transferability cost of Docker. Therefore it is worth mentioning the porting experience for decision makers that are reluctant of porting their existing systems into a Dockerized environment due to possible transferability costs. The software quality benefits presented by Docker seems to surpass the performance and transfer costs involved in implementing Docker in an existing system. The benefits of a Docker implementation seem to span over all ISO software quality aspects. This is the experience of this research and the statements does not base in empirical findings but rather in the use case of the project. Further research is required to give a definite answer for how Docker impacts the quality factors of an existing system.\\