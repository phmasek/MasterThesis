\iffalse \bibliography{include/backmatter/magnus,include/backmatter/philip} \fi
\chapter{Results}

The conducted experiments resulted in a series of datasets which are used to answer the research questions seperately. 


\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=3cm,
                    semithick,initial distance=1cm,every initial by arrow/.style={*->}]
  \tikzstyle{every state}=[fill=white,draw=black,text=black]

  \node[initial,state] (A)                    {boot};
  \node[state]         (B) [above right of=A] {wait};
  \node[state]         (C) [below right of=B] {run};

  \path (A) edge [bend left]  node {} (B)
  		(A) edge [bend left]  node {\scriptsize id++} (B)
  		(B) edge [loop above] node {\scriptsize 60s} (B)
  		(C) edge [loop right] node {\scriptsize 3600s} (C)
  		(B) edge [bend left]  node {\scriptsize startScenario(id)} (C)
  		(C) edge [bend left]  node {\scriptsize switchKernel()} (A);
\end{tikzpicture}


\begin{table}[]
\centering
\caption{Scenario specification}
\label{my-label}
\begin{tabular}{llll}
\textbf{scenario} & \textbf{deployment} & \textbf{kernel} & \textbf{load} \\
1                 & native              & generic         & noload        \\
2                 & native              & rt              & noload        \\
3                 & native              & generic         & cpuload       \\
4                 & native              & rt              & cpuload       \\
5                 & docker              & generic         & noload        \\
6                 & docker              & rt              & noload        \\
7                 & docker              & generic         & cpuload       \\
8                 & docker              & rt              & cpuload      
\end{tabular}
\end{table}

\pgfplotstableread[col sep = semicolon]{data/R13-all-runs-parsed.csv}\mydata
\begin{tikzpicture}
\begin{axis}[
		title=Accumulated average time spent in time-slice $100hz$,
		xbar stacked,
		width=\textwidth,
	    height=7cm,
	    xlabel={},
	    ytick=data,
	    xmin=0,
	    xmax=1.15,
      	y dir=reverse,
	    ylabel={scenario},
    	xlabel={$\%$ of time-slice},
		x label style={at={(axis description cs:0.5,0)},anchor=north},
	    xticklabel={\scriptsize\pgfmathparse{\tick*100}\pgfmathprintnumber{\pgfmathresult}\%},
	    point meta={x*100},
	    legend style={
                draw=none, % ?
                text depth=0pt,
                at={(0.5,-0.22)},
                anchor=north,
                legend columns=-1,
                % default spacing:
                column sep=1cm,
                % the space between legend image and text:
                /tikz/every odd column/.append style={column sep=0cm},
            }
        ] %first axis

\draw[black, dotted] (axis cs:1,-2) -- (axis cs:1,11);
\addplot+[draw opacity=0,fill=orange,xbar,area legend] table[y=scenario,x=odv_oh1]{\mydata};
\addplot+[draw opacity=0,fill=blues3,xbar,area legend] table[y=scenario,x=pi_calc]{\mydata};
\addplot+[draw opacity=0,fill=blues5,xbar,area legend] table[y=scenario,x=odv_oh2]{\mydata};
\addplot+[draw opacity=0,fill=blues1,xbar,area legend] table[y=scenario,x=sleep]{\mydata};

\legend{\scriptsize Overhead 1,\scriptsize Pi calculation,\scriptsize Overhead 2,\scriptsize Sleep};
\end{axis}
\end{tikzpicture}


\pgfplotstableread[col sep = semicolon]{data/R13-camera-runs-parsed.csv}\mycamdata
\begin{tikzpicture}
\begin{axis}[
		title=Accumulated average time spent in time-slice $10hz$,
		xbar stacked,
		width=\textwidth,
	    height=7cm,
	    xlabel={},
	    ytick=data,
	    xmin=0,
	    xmax=1.15,
      	y dir=reverse,
	    ylabel={scenario},
    	xlabel={$\%$ of time-slice},
		  x label style={at={(axis description cs:0.5,0)},anchor=north},
	    xticklabel={\scriptsize\pgfmathparse{\tick*100}\pgfmathprintnumber{\pgfmathresult}\%},
	    point meta={x*100},
	    legend style={
                draw=none, % ?
                text depth=0pt,
                at={(0.5,-0.22)},
                anchor=north,
                legend columns=-1,
                % default spacing:
                column sep=1cm,
                % the space between legend image and text:
                /tikz/every odd column/.append style={column sep=0cm},
            }
        ] %first axis

\draw[black, dotted] (axis cs:1,-2) -- (axis cs:1,11);
\addplot+[draw opacity=0,fill=orange,xbar,area legend] table[y=scenario,x=odv_oh1]{\mycamdata};
\addplot+[draw opacity=0,fill=blues4,xbar,area legend] table[y=scenario,x=camio]{\mycamdata};
\addplot+[draw opacity=0,fill=blues2,xbar,area legend] table[y=scenario,x=diskio]{\mycamdata};
\addplot+[draw opacity=0,fill=blues3,xbar,area legend] table[y=scenario,x=pi_calc]{\mycamdata};
\addplot+[draw opacity=0,fill=blues5,xbar,area legend] table[y=scenario,x=odv_oh2]{\mycamdata};
\addplot+[draw opacity=0,fill=blues1,xbar,area legend] table[y=scenario,x=sleep]{\mycamdata};

\legend{\scriptsize Overhead 1,\scriptsize Camera IO,\scriptsize Disk IO,\scriptsize Pi calculation,\scriptsize Overhead 2,\scriptsize Sleep};
\end{axis}
\end{tikzpicture}